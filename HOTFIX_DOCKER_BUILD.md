# ğŸ”§ ç´§æ€¥ä¿®å¤ï¼šDocker æ„å»ºå¤±è´¥

## ğŸ› é—®é¢˜æè¿°
Hugging Face Space æ„å»ºå¤±è´¥ï¼š
```
ERROR: failed to calculate checksum of ref: "/generated_images": not found
```

## ğŸ” é—®é¢˜åŸå› 
1. `Dockerfile` å°è¯•å¤åˆ¶ `generated_images/` ç›®å½•
2. ä½†è¯¥ç›®å½•åœ¨ GitHub ä»“åº“ä¸­è¢« `.github/workflows/sync.yml` åˆ é™¤äº†
3. Docker æ„å»ºæ—¶æ‰¾ä¸åˆ°è¯¥ç›®å½•ï¼Œå¯¼è‡´å¤±è´¥

## âœ… å·²ä¿®å¤

### 1. ç®€åŒ– Dockerfile
**æ–‡ä»¶**ï¼š`Dockerfile`

**ä¿®æ”¹å‰**ï¼š
```dockerfile
COPY generated_images/ ./generated_images/
```

**ä¿®æ”¹å**ï¼š
```dockerfile
# åªåˆ›å»ºç©ºç›®å½•ï¼Œä¸å¤åˆ¶æ–‡ä»¶
RUN mkdir -p generated_images logs
```

### 2. ä¿®æ”¹é»˜è®¤é…ç½®
**æ–‡ä»¶**ï¼š`app/user_config.py` å’Œ `app/storage.py`

**ä¿®æ”¹å‰**ï¼š
```python
"image_url": "generated_images/default_character.jpeg",
```

**ä¿®æ”¹å**ï¼š
```python
"image_url": "",  # ç©ºå­—ç¬¦ä¸²ï¼Œå‰ç«¯ä¼šæ˜¾ç¤ºå ä½ç¬¦
```

**åŸå› **ï¼š
- ä¸ä¾èµ– Git ä»“åº“ä¸­çš„å›¾ç‰‡æ–‡ä»¶
- ç”¨æˆ·é¦–æ¬¡ä½¿ç”¨æ—¶å¯ä»¥ç”Ÿæˆè‡ªå·±çš„ AI å½¢è±¡
- æˆ–è€…å‰ç«¯æ˜¾ç¤ºä¸€ä¸ªé»˜è®¤å ä½ç¬¦

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### 1. æäº¤ä¿®å¤
```bash
git add Dockerfile app/user_config.py app/storage.py
git commit -m "Fix: Remove dependency on generated_images directory in Docker build"
git push origin main
```

### 2. åŒæ­¥åˆ° Hugging Face
1. è®¿é—®ï¼šhttps://huggingface.co/spaces/kernel14/Nora
2. Settings â†’ Sync from GitHub â†’ **Sync now**

### 3. ç­‰å¾…é‡æ–°æ„å»º
- æŸ¥çœ‹ **Logs** æ ‡ç­¾é¡µ
- åº”è¯¥èƒ½çœ‹åˆ°æ„å»ºæˆåŠŸ

## âœ… éªŒè¯ä¿®å¤

æ„å»ºæˆåŠŸåï¼Œè®¿é—®ï¼š
```
https://kernel14-nora.hf.space/
```

åº”è¯¥èƒ½çœ‹åˆ°ï¼š
- âœ… å‰ç«¯æ­£å¸¸åŠ è½½
- âœ… AI å½¢è±¡ä½ç½®æ˜¾ç¤ºå ä½ç¬¦ï¼ˆæˆ–é»˜è®¤å›¾æ ‡ï¼‰
- âœ… å¯ä»¥ç‚¹å‡» âœ¨ æŒ‰é’®ç”Ÿæˆè‡ªå®šä¹‰å½¢è±¡
- âœ… æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ

## ğŸ“ æŠ€æœ¯è¯´æ˜

### ä¸ºä»€ä¹ˆä¸åœ¨ Docker é•œåƒä¸­åŒ…å«é»˜è®¤å›¾ç‰‡ï¼Ÿ

1. **Git ä»“åº“é™åˆ¶**ï¼š
   - å›¾ç‰‡æ–‡ä»¶è¾ƒå¤§ï¼ˆå‡ ç™¾ KBï¼‰
   - ä¼šå¢åŠ ä»“åº“ä½“ç§¯
   - è¢« `.github/workflows/sync.yml` æ¸…ç†

2. **æ›´å¥½çš„æ–¹æ¡ˆ**ï¼š
   - ç”¨æˆ·é¦–æ¬¡ä½¿ç”¨æ—¶ç”Ÿæˆä¸ªæ€§åŒ–å½¢è±¡
   - æˆ–è€…ä½¿ç”¨ CDN æ‰˜ç®¡çš„é»˜è®¤å›¾ç‰‡
   - æˆ–è€…å‰ç«¯æ˜¾ç¤º SVG å ä½ç¬¦

3. **è¿è¡Œæ—¶ç”Ÿæˆ**ï¼š
   - ç”¨æˆ·å¯ä»¥éšæ—¶ç”Ÿæˆæ–°å½¢è±¡
   - å›¾ç‰‡ä¿å­˜åœ¨å®¹å™¨çš„ `generated_images/` ç›®å½•
   - é‡å¯å®¹å™¨åä¼šä¸¢å¤±ï¼ˆå¯ä»¥æ¥å—ï¼‰

### æœªæ¥æ”¹è¿›æ–¹å‘

1. **ä½¿ç”¨å¯¹è±¡å­˜å‚¨**ï¼š
   - å°†ç”Ÿæˆçš„å›¾ç‰‡ä¸Šä¼ åˆ° S3/OSS
   - æŒä¹…åŒ–å­˜å‚¨ï¼Œä¸ä¼šä¸¢å¤±
   - æ”¯æŒå¤šå®ä¾‹å…±äº«

2. **å†…åµŒé»˜è®¤å›¾ç‰‡**ï¼š
   - å°†é»˜è®¤å›¾ç‰‡è½¬ä¸º Base64
   - ç›´æ¥å†™åœ¨ä»£ç ä¸­
   - æˆ–è€…ä½¿ç”¨ SVG çŸ¢é‡å›¾

3. **CDN æ‰˜ç®¡**ï¼š
   - å°†é»˜è®¤å›¾ç‰‡æ”¾åœ¨ CDN
   - é…ç½® URL æŒ‡å‘ CDN
   - åŠ è½½æ›´å¿«

## ğŸ‰ ä¿®å¤å®Œæˆ

ä¿®å¤åï¼ŒDocker æ„å»ºåº”è¯¥èƒ½æˆåŠŸï¼ŒSpace å¯ä»¥æ­£å¸¸è¿è¡Œã€‚

---

**ä¿®å¤æ—¶é—´**ï¼š2026-01-18
**å½±å“èŒƒå›´**ï¼šHugging Face Space Docker æ„å»º
**ä¸¥é‡ç¨‹åº¦**ï¼šé«˜ï¼ˆå¯¼è‡´æ„å»ºå¤±è´¥ï¼‰
**ä¿®å¤çŠ¶æ€**ï¼šâœ… å·²å®Œæˆ
